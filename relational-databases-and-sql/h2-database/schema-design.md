# H2 Schema design
Key concepts and syntax for designing database schema for the H2 database


## Auto-increment values in H2 database
The `IDENTITY` type is used for automatically generating an incrementing 64-bit long integer in H2 database.

```sql
CREATE TABLE public.account (
  id IDENTITY NOT NULL PRIMARY KEY ,
  name VARCHAR NOT NULL,
  number VARCHAR NOT NULL,
  sortcode VARCHAR NOT NULL,
  created TIMESTAMP WITH TIME ZONE NOT NULL);
```

The value for `id` is automatically generated by H2, so no need to provide a value for id in the SQL statement

```sql
INSERT INTO public.account ( id, name, number, sortcode, created)
VALUES ( ? , ? , ? , ? );
```



<!-- Old style auto-increment -->

<!-- ```sql -->
<!-- create table test(id bigint auto_increment, name varchar(255)); -->
<!-- insert into test(name) values('hello'); -->
<!-- insert into test(name) values('world'); -->
<!-- select * from test; -->
<!-- ``` -->



## Resources
* [next.jdbc](https://cljdoc.org/d/seancorfield/next.jdbc/) documentation and [next.jdbc db-types list](https://github.com/seancorfield/next-jdbc/blob/develop/src/next/jdbc/connection.clj#L52-L123)
* [H2 Database website](http://www.h2database.com/)
* [SQL Constraints - W3Schools.com](https://www.w3schools.com/sql/sql_constraints.asp)
* [Purpose of contraint naming - Stack Overflow](https://stackoverflow.com/questions/1397440/what-is-the-purpose-of-constraint-naming)
* [seancorfield/honeysql](https://github.com/seancorfield/honeysql) - SQL as data structures
* [stack overflow - auto increment id in h2 database](https://stackoverflow.com/questions/9353167/auto-increment-id-in-h2-database)
